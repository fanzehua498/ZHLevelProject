
一、视频的封装格式
1.AVI格式：对应格式.avi，全称Audio Video Interleaved,Microsoft公司在1992年推出。
优点：图像质量好，无损AVI可保存alpha通道。
缺点：体积庞大，压缩标准不统一，存在较多高低版本兼容问题。


2.DV-AVI格式：对应格式.avi。全称Digital Video Format，由索尼、松下、JVC等多家厂商联合提出的家用数字视频格式。

3.WMV格式：对应格式.wmv、.asf.全称Windows Media Video ，是微软推出的一种采用独立编码方式并且可以在网上z实时观看的视频节目格式，在同等视频质量下，wmv格式的文件可以边下载边播放，很适合在网上传播和传输。

4.MPEG格式，对应格式.mpg .mpeg .mpe .dat .vob .asf .3gp .mp4等等。全称Moving Picture Experts Group，是由运动图像专家组制定的视频格式，该专家组于 1988 年组建，专门负责视频和音频标准制定，其成员都是视频、音频以及系统领域的技术专家。MPEG 格式目前有三个压缩标准，分别是 **MPEG-1、MPEG-2、**和 MPEG-4。MPEG-4 是现在用的比较多的视频封装格式，它为了播放流式媒体的高质量视频而专门设计的，以求使用最少的数据获得最佳的图像质量。

5.Matroska格式：对应格式.mkv。Matroska 是一种新的视频封装格式，它可将多种不同编码的视频及 16 条以上不同格式的音频和不同语言的字幕流封装到一个 Matroska Media 文件当中。

6.Real Video格式：对应格式.rm、.rmvb,是 Real Networks 公司所制定的音频视频压缩规范称为 Real Media。用户可以使用 RealPlayer 根据不同的网络传输速率制定出不同的压缩比率，从而实现在低速率的网络上进行影像数据实时传送和播放。

7.QuickTime File format格式，对应格式：.Mov，apple公司开发的视频格式默认的播放器是苹果的 QuickTime。这种封装格式具有较高的压缩比率和较完美的视频清晰度等特点，并可以保存 alpha 通道。

8.Flash Video格式：对应格式.flv,Adobe Flash 延伸出来的一种网络视频封装格式。这种格式被很多视频网站所采用。


二、音视频编码方式
视频编码的作用：将视频像素数据（RGB、YUV等）压缩成视频码流，从而降低视频的数据量。

视频编码方式
名称      HEVC(H.265)      H.264           MPEG4     MPEG2     VP9       VP8      VC-1

推出机构   MPEG/ITU-T       MPEG/ITU-T      MPEG      MPEG      Google    Google   Microsoft Inc.

推出时间   2013             2003            2001      1994      2013      2008     2006

使用领域   研发中            各个领域          不温不火   数字电视    研发中     不普及    微软平台



1、H.26X系列
H.26X由国际电传视讯联盟远程通信标准化组织（ITU-T）主导，包括H.261、H.262、H.263、H.264、H.265。

H.261，主要用于老的视频会议和视频电话系统。是第一个使用的数字视频压缩标准。实质上说，之后的所有的标准视频编解码器都是基于它设计的。

H.262，等同于 MPEG-2 第二部分，使用在 DVD、SVCD 和大多数数字视频广播系统和有线分布系统中。

H.263，主要用于视频会议、视频电话和网络视频相关产品。在对逐行扫描的视频源进行压缩的方面，H.263 比它之前的视频编码标准在性能上有了较大的提升。尤其是在低码率端，它可以在保证一定质量的前提下大大的节约码率。

H.264，等同于 MPEG-4 第十部分，也被称为高级视频编码（Advanced Video Coding，简称 AVC），是一种视频压缩标准，一种被广泛使用的高精度视频的录制、压缩和发布格式。该标准引入了一系列新的能够大大提高压缩性能的技术，并能够同时在高码率端和低码率端大大超越以前的诸标准。

H.265，被称为高效率视频编码（High Efficiency Video Coding，简称 HEVC）是一种视频压缩标准，是 H.264 的继任者。HEVC 被认为不仅提升图像质量，同时也能达到 H.264 两倍的压缩率（等同于同样画面质量下比特率减少了 50%），可支持 4K 分辨率甚至到超高画质电视，最高分辨率可达到 8192×4320（8K 分辨率），这是目前发展的趋势。


2、MPEG系列
MPEG系列由国际标准组织机构（ISO）下属的运动图像专家组（MPEG）开发。

MPEG-1 第二部分，主要使用在VCD上，有些在线视频也使用这种格式。该解码器的质量大致上和原有的VHS录像带相当。
MPEG-2 第二部分，等同于H.262,使用在DVD、SVCD和大多数数字视频广播系统和有线分布系统中。
MPEG-4 第二部分，可以使用在网络传输、广播和媒体存储上。比起MPEG-2第二部分和第一版的H.263，它的压缩性能有所提高。
MPEG-4 第十部分，等同于H.264，是这两个编码组织合作诞生的标准。

音频编码方式

名称      AAC             MP3           WMV                 AC-3

推出机构   MPEG            MPEG          Microsoft Inc.      Dolby Inc.

推出时间   1997            1993          1999                1992

使用领域    各个领域（新）    各个领域（旧）  微软平台              电影

AAC，英文全称 Advanced Audio Coding，是由 Fraunhofer IIS、杜比实验室、AT&T、Sony 等公司共同开发，在 1997 年推出的基于 MPEG-2 的音频编码技术。2000 年，MPEG-4 标准出现后，AAC 重新集成了其特性，加入了 SBR 技术和 PS 技术，为了区别于传统的 MPEG-2 AAC 又称为 MPEG-4 AAC。
AAC 比 MP3 有更高的压缩比，同样大小的音频文件，AAC 的音质更高。

MP3，英文全称 MPEG-1 or MPEG-2 Audio Layer III，是曾经非常流行的一种数字音频编码和有损压缩格式，它被设计来大幅降低音频数据量。它是在 1991 年，由位于德国埃尔朗根的研究组织 Fraunhofer-Gesellschaft 的一组工程师发明和标准化的。MP3 的普及，曾对音乐产业造成极大的冲击与影响。

WMA，英文全称 Windows Media Audio，由微软公司开发的一种数字音频压缩格式，本身包括有损和无损压缩格式。


三、视频像素数据

1.视频像素数的简介
视频像素数据的h作用：保存了o屏幕上的x每个像素点的像素值。
格式：常见的g像素格式有RGB24、RGB32、YUV420P、YUV422P、YUV444P等。压缩衣编码中一般使用的是YUV格式的像素数据，最常见的格式为YUV420P。
特点：视频像素体积很大，一个1小时的店员RGB24格式的数据体积为：3600*25*1080*3 = 559.872GB （频率取25HZ，精度8bit）。

2.颜色模型
（1）RGB颜色编码
RGB图像中，每个像素点都有红、绿、蓝三个原色，其中每种原色占用8bit，也就一个字节，即一个像素占用24bit，三个字节。1280*720的图片，占用1280*720*3/1024/1024 = 2.63MB存储空间。YUV颜色编码更高效能够使用更少的bit来表示颜色。

（2）YUV（YCbCr）颜色编码
人眼对亮度敏感度而对色度不敏感。因而可以将亮度的信息和色度信息n分离。并对色度信息采用更夸张的压缩方案，从而提高压缩效率。

YUV颜色编码采用的是明亮度Y和色度UV来指定像素的颜色。Y表示明亮度（Luminance或Luma），也就是灰阶值。U和V表示的则是色度（Chrominance或Chroma）,作用是描述影像色度和饱和度。
和RGB表示图像类似，像每个像素点都包含Y、U、V分量。但是它的Y、UV分量是可以分离的，没有UV分量一样可以显示完整的图像，但是是黑白的。

YCbCr颜色空间是YUV的国际标准化变种，在数字电视和图像压缩（比如JPEG）方面都有应用。YCbCr其实是YUV经过缩放和偏移的翻版。其中Y与YUV中的Y含义一样，
Cb,Cr同样是指色彩，只是在表示方法上不同而已。在YUV家族中，YCbCr是在计算机系统中应用最多的成员，其应用领域很广泛，JPEG、MPEG 均采用此格式。一般人们所讲的 YUV 大多是指YCbCr。 **Cb：**反映的是 RGB 输入信号蓝色部分与 RGB 信号亮度值之间的差异。 **Cr：**反映了 RGB 输入信号红色部分与 RGB 信号亮度值之间的差异。

RGB转换为YCbCr公式
Y = 0.257 * R + 0.564 * G + 0.098 * B + 16
Cb = -0.148 * R - 0.291 * G + 0.439 * B + 128
Cr = 0.439 * R - 0.368 * G - 0.071 * B + 128

YCbCr转换为RGB公式
R = 1.164*(Y-16)+1.596*(Cr-128)
G = 1.164*(Y-16)-0.392*(Cb-128)-0.813*(Cr-128)
B = 1.164*(Y-16)+2.017*(Cb-128)


（3）YUV的采样格式
为节省带宽，大多数 YUV 格式平均使用的每像素位数都少于24位。主要的抽样（subsample）格式有 YCbCr4:2:0、YCbCr4:2:2、YCbCr4:1:1 和 YCbCr4:4:4。
